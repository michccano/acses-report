<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\Report;
use PDF;


class ReportController extends Controller
{

    public function index(Request $request)
    {
        return response()->json([
            "success" => true,
            "message" => Report::all()->toArray()
        ]);
    }


    public function showPDF(){

    $data = ['title' => 'Laravel 7 Generate PDF From View Example Tutorial'];
       //  return view('welcome', compact('data'));

/*       $path = public_path('storage/signatures/');  

     $photo = "data:image/png;base64,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";


       $fileName = '';
       try {
           if(strlen($photo) > 128) {
               list($ext, $data)   = explode(';', $photo);
               list(, $data)       = explode(',', $data);
               $data = base64_decode($data);
   
               $fileName = mt_rand().time().'.jpg';
               file_put_contents($path.''.$fileName, $data);
           }
       }
       catch (\Exception $e) {
           $msg = $e;
       }
    
  */     
      
       view()->share('welcome',$data);
       
        $pdf = PDF::loadView('welcome', $data);
  
        // download PDF file with download method
        return $pdf->download('pdf_file.pdf');



      }



}
